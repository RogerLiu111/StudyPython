# 传统RAID技术
## RAID的基本概念和实现方式
- RAID：redundant array of independent disk，独立硬盘冗余阵列，也被称为RAID
    - 高效的数据组织：
        - 条带化：
            - 条带(strip)：硬盘中单个或者多个连续的扇区构成一个条带，他是一块硬盘上进一次数据读写的最小单元。 它是组成分条的元素。
            - 分条(stipe)：同一硬盘阵列中的多个硬盘驱动器上的相同“位置”（或者说是相同编号）的条带。
        - 并行访问
        
    - 数据保护：
        - 奇偶校验：奇偶校验算法（XOR异或）。异或算法，可逆运算算出结果，所以可以用来校验。
            - XOR运算广泛地使用在数字电子和计算机科学中。
            - XOR校验的算法——相同为假，相异为真：
                
                    0⊕0= 0； 0⊕1= 1； 1⊕0= 1； 1⊕1= 0；
        - 热备用：时刻有一块磁盘，更替下故障的RAID组中故障的那块磁盘。
        - 在另一块冗余的硬盘上保存数据的副本。
            
    - 实现方法：
        - 硬件RAID
        - 软件RAID

## RAID状态

                       创建成功               成员盘掉线或故障        故障盘数超过冗余盘数     
        RAID组被创建  -------->  RAID组正常工作  ---------->  RAID组降级  ----------> RAID组失效
        
                                                 <---------
                                                  重构成功           


## 常用RAID级别与分类标准
- RAID技术将多个单独的物理硬盘以不同的方式组合成一个逻辑盘：
    - 提高了硬盘的读写性能和数据安全性
    - 根据不同的组合方式可以分为不同的RAID级别
- RAID级别
    - RAID0：无差错校验的分条RAID，又叫条带化RAID。一般使用在图形化工作站，对硬盘读写数据有一定要求。
        - 至少2块磁盘组成：
            - 容量、性能、转速等指标，尽可能一样
        - 数据下发的时候以分条下发
        - 不提供数据保护
            - 无差错校验
            - 任意一块磁盘损坏，整套数据就会丢失
            - 同样的数据分开存放，提高了数据读写的性能
    - RAID1：镜像结构的阵列
        - 至少2块磁盘组成：
            - 容量、性能、转速等指标，尽可能一样
        - 提供数据保护
            - 完全镜像拷贝
            - 其中一块磁盘损坏，其他磁盘有完全相同的镜像备份
        - 磁盘利用率为1/n
    - RAID3：带奇偶校验的分条RAID
        - 至少3块磁盘组成，校验信息只存放于同一块磁盘
            - 其中1块磁盘作为校验盘，所有数据校验信息都会存放在此磁盘上，对磁盘损伤交大
            - 除了校验盘，其他的数据盘，在写入过程中，写入数据均匀分布，对磁盘的损伤较小 
            - 磁盘数据读取过程中，只提取数据盘内容，与校验盘无关
        - 当写入数据较少时，存在“写惩罚”问题
            - 一次写，多次读：一次有效写入，导致多次读取。
        - 提供数据保护
            - 存在异或校验机制，允许其中一块磁盘损坏，及时更换可修复数据
        - 磁盘利用率为(n-1)/n   
    - RAID5：分布式奇偶校验的独立硬盘结构
         - 至少3块磁盘组成，校验信息分布式存储在多块磁盘上
            - 校验信息分布在多块磁盘上，每块磁盘的工作压力比较平均
                - 减少了RAID3中的热盘(工作压力较大的磁盘)的存在
            - 磁盘数据读取过程中，只提取数据盘内容，与校验信息无关
        - 提供数据保护
            - 存在异或校验机制，允许其中一块磁盘损坏，及时更换可修复数据
        - 磁盘利用率为(n-1)/n
    - RAID6：
    - RAID10：先做RAID1，在做RAID0
    - RAID50：先做RAID5，在做RAID0

